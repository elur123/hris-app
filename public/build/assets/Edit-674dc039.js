import{W as C,_ as N,a as e,j as t,n as b,d as y}from"./app-6971d528.js";import{A as k}from"./AuthenticatedLayout-d41a3d7c.js";import{C as _,a as w,b as B}from"./CardBody-bf2dd6e9.js";import{C as I}from"./CardFooter-2336f761.js";import{T as h}from"./TextInput-b8102b3d.js";import{T as L}from"./TextAreaInput-6fa5e844.js";import{I as l}from"./InputError-30030240.js";import{I as i}from"./InputLabel-9fb9fb3c.js";import{C as S}from"./Checkbox-4b613de6.js";import{P as j}from"./PrimaryButton-37928027.js";import"./ApplicationLogo-4a6aef4f.js";import"./transition-26b7e6cd.js";function G(n){const c=C().props.branch,{data:r,setData:o,errors:s,put:u,reset:p,processing:f,recentlySuccessful:A}=N({name:c.name,address:c.address,contact_no:c.contact_no,departments:c.departments.map(a=>a.id)}),g=a=>{if(a.target.checked)r.departments.push(a.target.value);else{let d=r.departments.indexOf(r.departments.find(m=>m===a.target.value));r.departments.splice(d,1)}},v=n.departments.map(a=>{let d=r.departments.find(m=>m===a.id);return e("div",{className:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]",children:t("label",{className:"flex items-center",children:[e(S,{name:"departments",value:a.id,onChange:g,defaultChecked:d!==void 0}),e("span",{className:"ml-2 text-sm text-gray-600",children:a.name})]})},a.id)}),x=a=>{a.preventDefault(),u(route("branches.update",n.branch),{preserveScroll:!0,onSuccess:()=>p(),onError:()=>{s.name&&name.current.focus(),s.contact_no&&contact_no.current.focus(),s.address&&address.current.focus()}})};return t(k,{auth:n.auth,errors:n.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Branch - Edit"}),children:[e(b,{title:"Branch - Create"}),e(_,{children:t("form",{onSubmit:x,children:[t(w,{className:"p-4 flex items-center gap-4",children:[e(y,{href:route("branches.index"),children:e("svg",{className:"text-gray-900 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e("h3",{className:"text-gray-900",children:"Update branch"})]}),t(B,{children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[t("div",{className:"",children:[e(i,{htmlFor:"name",value:"Branch name"}),e(h,{id:"name",value:r.name,onChange:a=>o("name",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"name"}),e(l,{message:s.name,className:"mt-2"})]}),t("div",{className:"",children:[e(i,{htmlFor:"contact_no",value:"Contact No."}),e(h,{id:"contact_no",value:r.contact_no,onChange:a=>o("contact_no",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"contact_no"}),e(l,{message:s.contact_no,className:"mt-2"})]})]}),t("div",{className:"my-4",children:[e(i,{htmlFor:"address",value:"Address"}),e(L,{id:"address",value:r.address,onChange:a=>o("address",a.target.value),className:"mt-1 block w-full",autoComplete:"address"}),e(l,{message:s.address,className:"mt-2"})]}),e("hr",{className:"my-4"}),t("div",{children:[e("h3",{className:"my-2",children:"Select department"}),v]})]}),e(I,{children:e(j,{disabled:f,children:"Update"})})]})})]})}export{G as default};
