import{r as c,a as e,j as t,_ as x,n as b}from"./app-6971d528.js";import{T as f}from"./TextInput-b8102b3d.js";import{I as k}from"./InputError-30030240.js";import{I as v}from"./InputLabel-9fb9fb3c.js";import{P as N}from"./PrimaryButton-37928027.js";const w=()=>{const[a,l]=c.useState(new Date);c.useEffect(()=>{const i=setInterval(()=>{l(new Date)},1e3);return()=>{clearInterval(i)}},[]);const s={timeZone:"Asia/Manila",hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"},o=a.toLocaleString("en-US",s);return e("div",{className:"flex items-center justify-center py-5 h-full",children:t("div",{className:"flex flex-col items-center",children:[e("h1",{className:"text-4xl font-bold mb-4",children:"PH Time"}),e("div",{className:"text-6xl font-bold mt-4",children:o})]})})},_=w;function D(a){const[l,s]=c.useState(a.flash.data),o=c.useRef(),{data:i,setData:m,errors:p,post:u,reset:y,processing:C}=x({employee_key:""}),h=r=>{r.preventDefault(),u(route("clock.store"),{preserveScroll:!0,onSuccess:n=>{s(n.props.flash.data.histories),setTimeout(d,5e3)},onError:()=>{}})},d=()=>{a.flash.data=null,s(null),o.current.value="",y()},g=l!=null?t("div",{className:`bg-green-100 rounded-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-40 border border-gray-100\r
        overflow-hidden shadow-sm sm:rounded-lg mb-5`,children:[t("div",{className:"px-2 py-5 flex justify-between",children:[e("h3",{className:"text-center text-2xl font-bold uppercase",children:"  In / Out History"}),e(N,{onClick:d,className:"p-2",children:"Clear"})]}),e("div",{className:"h-[500px] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs sticky top-0 text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t("tr",{children:[e("th",{className:"px-2 py-3 text-center text-white border",children:"Time in"}),e("th",{className:"px-2 py-3 text-center text-white border",children:"Time out"})]})}),e("tbody",{children:l.map((r,n)=>t("tr",{className:n%2===0?" bg-gray-100 hover:bg-gray-300":" hover:bg-gray-300",children:[e("td",{className:"px-2 py-3 text-gray-900 text-center border",children:r.start_at}),e("td",{className:"px-2 py-3 text-gray-900 text-center border",children:r.end_at})]},r.id))})]})})]}):"";return t("div",{className:"py-12 w-screen h-screen bg-[url('/img/clock_bg.jpg')] bg-cover bg-center",children:[e(b,{title:"Clock"}),e("div",{className:"absolute top-0 w-full h-full bg-gray-200 opacity-50"}),t("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:[t("div",{className:`bg-green-100 rounded-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-40 border border-gray-100\r
                    overflow-hidden shadow-sm sm:rounded-lg mb-4`,children:[e(_,{}),e("div",{className:"p-6 flex justify-center align-center gap-5",children:t("form",{onSubmit:h,children:[e(v,{htmlFor:"employee_key",value:"Employee Key"}),e(f,{id:"employee_key",ref:o,type:"text",onChange:r=>m("employee_key",r.target.value),className:"mt-1 block w-full",autoComplete:"employee_key",placeholder:"Enter employee key"}),e(k,{message:p.employee_key,className:"mt-2"})]})})]}),g]})]})}export{D as default};
