import{r as n,_ as y,a as e,j as t,n as k,d as w}from"./app-359c51dc.js";import{A as _}from"./AuthenticatedLayout-09e2fcfa.js";import{C as B,a as I,b as L}from"./CardBody-63b152f2.js";import{C as S}from"./CardFooter-7607320b.js";import{T as u,I as m}from"./InputError-d1c51091.js";import{T as j}from"./TextAreaInput-a6ff58e3.js";import{I as l}from"./InputLabel-f50d2a8a.js";import{C as A}from"./Checkbox-4f969acf.js";import{P as F}from"./PrimaryButton-eded6ccb.js";import"./ApplicationLogo-e3ab5e5c.js";import"./transition-d926d5fa.js";function J(o){const d=n.useRef(),i=n.useRef(),h=n.useRef();n.useRef([]);const{data:r,setData:c,errors:s,post:p,reset:f,processing:g,recentlySuccessful:R}=y({name:"",address:"",contact_no:"",departments:[]}),x=a=>{if(a.target.checked)r.departments.push(a.target.value);else{let N=r.departments.indexOf(r.departments.find(b=>b===a.target.value));r.departments.splice(N,1)}},C=o.departments.map(a=>e("div",{className:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]",children:t("label",{className:"flex items-center",children:[e(A,{name:"departments",value:a.id,onChange:x}),e("span",{className:"ml-2 text-sm text-gray-600",children:a.name})]})},a.id)),v=a=>{a.preventDefault(),p(route("branches.store"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>{s.name&&d.current.focus(),s.contact_no&&h.current.focus(),s.address&&i.current.focus()}})};return t(_,{auth:o.auth,errors:o.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Branch - Create"}),children:[e(k,{title:"Branch - Create"}),e(B,{children:t("form",{onSubmit:v,children:[t(I,{className:"p-4 flex items-center gap-4",children:[e(w,{href:route("branches.index"),children:e("svg",{className:"text-gray-900 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e("h3",{className:"text-gray-900",children:"Create new branch"})]}),t(L,{children:[t("div",{className:"mb-2",children:[e(l,{htmlFor:"name",value:"Branch name"}),e(u,{id:"name",ref:d,value:r.name,onChange:a=>c("name",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"name"}),e(m,{message:s.name,className:"mt-2"})]}),t("div",{className:"my-4",children:[e(l,{htmlFor:"contact_no",value:"Contact No."}),e(u,{id:"contact_no",ref:h,value:r.contact_no,onChange:a=>c("contact_no",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"contact_no"}),e(m,{message:s.contact_no,className:"mt-2"})]}),t("div",{className:"my-4",children:[e(l,{htmlFor:"address",value:"Address"}),e(j,{id:"address",ref:i,value:r.address,onChange:a=>c("address",a.target.value),className:"mt-1 block w-full",autoComplete:"address"}),e(m,{message:s.address,className:"mt-2"})]}),e("hr",{className:"my-4"}),t("div",{children:[e("h3",{className:"my-2",children:"Select department"}),C]})]}),e(S,{children:e(F,{disabled:g,children:"Create"})})]})})]})}export{J as default};
