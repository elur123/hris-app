import{r as c,_ as M,j as a,a as e,F as P,n as j,d as S,g as B}from"./app-6971d528.js";import{A as E}from"./AuthenticatedLayout-d41a3d7c.js";import{C as T,a as D,b as I}from"./CardBody-bf2dd6e9.js";import{C as W}from"./CardFooter-2336f761.js";import{T as o}from"./TextInput-b8102b3d.js";import{I as s}from"./InputLabel-9fb9fb3c.js";import{B as d}from"./Button-d796747e.js";import{M as v}from"./Modal-47f27604.js";import"./ApplicationLogo-4a6aef4f.js";import"./transition-26b7e6cd.js";import"./platform-04bfaf3f.js";function V(t){const[g,h]=c.useState(!1),[x,u]=c.useState(!1),[m,N]=c.useState("Approve"),[i,p]=c.useState(),{data:l,setData:n,put:f,reset:w,processing:_}=M({hours_rate:"",total_hours:"",overtime_hours:"",leave_days:""}),k=r=>{h(!0),p(r),l.hours_rate=r.hours_rate,l.total_hours=r.total_hours,l.overtime_hours=r.overtime_hours,l.leave_days=r.leave_days},C=r=>{r.preventDefault(),f(route("payrolls.update",i),{preserveScroll:!0,onSuccess:()=>{w(),h(!1),p(null)},onError:()=>{}})},y=r=>{u(!0),N(r)},A=()=>{let r=m==="Approve"?2:3;B.put(route("payrolls.checked",t.payroll),{status:r})},F=t.payroll.list.map((r,b)=>a("tr",{className:b%2===0?" bg-gray-100 hover:bg-gray-200":"bg-gray-50 hover:bg-gray-200",children:[e("td",{className:"border px-3 py-2",children:r.employee.first_name+" "+r.employee.last_name}),e("td",{className:"border px-3 py-2",children:r.hours_rate}),e("td",{className:"border px-3 py-2",children:r.total_hours}),e("td",{className:"border px-3 py-2",children:r.overtime_hours}),e("td",{className:"border px-3 py-2",children:r.leave_days}),e("td",{className:"border px-3 py-2",children:r.total}),e("td",{className:"border px-3 py-2",children:t.payroll.status_id===1?e(d,{className:"px-2 py-1 text-white bg-green-500 hover:text-white hover:bg-green-400 rounded",onClick:()=>k(r),children:"Edit"}):e("span",{children:"No action"})})]},b)),L=t.payroll.status_id===1?a(P,{children:[e(d,{type:"button",className:"p-2 rounded text-white bg-green-500 hover:bg-green-600",onClick:()=>y("Approve"),children:"Approve"}),e(d,{type:"button",className:"p-2 rounded text-white bg-red-500 hover:bg-red-600",onClick:()=>y("Decline"),children:"Decline"})]}):e("span",{children:"No actions"});return a(E,{auth:t.auth,errors:t.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Payroll - Check"}),children:[e(j,{title:"Payroll - Check"}),a(T,{children:[a(D,{className:"p-4 flex items-center gap-4",children:[e(S,{href:route("payrolls.index"),children:e("svg",{className:"text-gray-900 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e("h3",{className:"text-gray-900",children:"Check payroll"})]}),a(I,{children:[a("div",{id:"payroll-information",className:"mb-4",children:[e("h5",{className:"mb-4 font-bold text-gray-900",children:"Payroll Information"}),a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a("div",{children:[e(o,{type:"text",className:"mb-1 block w-full bg-gray-100 border-0",value:t.payroll.branch.name,disabled:!0}),e(s,{htmlFor:"branch",value:"Branch name"})]}),a("div",{children:[e(o,{type:"text",className:"mb-1 block w-full bg-gray-100 border-0",value:t.payroll.from+" - "+t.payroll.to,disabled:!0}),e(s,{htmlFor:"cut_off",value:"Cut off"})]}),a("div",{children:[e(o,{type:"text",className:"mb-1 block w-full bg-gray-100 border-0",value:t.payroll.admin_prepared.name,disabled:!0}),e(s,{htmlFor:"prepared_by",value:"Prepared by"})]}),a("div",{children:[e(o,{type:"text",className:"mb-1 block w-full bg-gray-100 border-0",value:t.payroll.status.label,disabled:!0}),e(s,{htmlFor:"status",value:"Status"})]})]})]}),e("hr",{}),a("div",{id:"payroll-list",className:"my-4 overflow-y-auto",children:[e("h5",{className:"mb-4 font-bold text-gray-900",children:"Pay List"}),a("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:a("tr",{children:[e("th",{className:"px-4 py-3 border text-white",children:"Employee"}),e("th",{className:"px-4 py-3 border text-white",children:"Rate (Per hour)"}),e("th",{className:"px-4 py-3 border text-white",children:"Working hours"}),e("th",{className:"px-4 py-3 border text-white",children:"Overtime hours"}),e("th",{className:"px-4 py-3 border text-white",children:"Leave days"}),e("th",{className:"px-4 py-3 border text-white",children:"Total"}),e("th",{className:"px-4 py-3 border text-white",children:"Action"})]})}),e("tbody",{children:F})]})]})]}),e(W,{className:"flex justify-between",children:L})]}),e(v,{show:g,children:a("form",{onSubmit:C,children:[a("div",{className:"p-4 border border-bottom flex justify-between items-center",children:[a("h1",{className:"text-2xl",children:["Update pay of ",i?i.employee.first_name+" "+i.employee.last_name:"NA"]}),e(d,{type:"button",className:"bg-gray-500 text-white rounded hover:bg-gray-600",onClick:()=>h(!1),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a("div",{className:"p-4 border border-bottom",children:[a("div",{className:"mb-4",children:[e(s,{htmlFor:"rate",value:"Rate"}),e(o,{id:"rate",type:"number",className:"mt-1 block w-full",autoComplete:"rate",value:l.hours_rate,onChange:r=>n("hours_rate",r.target.value)})]}),a("div",{className:"my-4",children:[e(s,{htmlFor:"working_hours",value:"Working hours"}),e(o,{id:"working_hours",type:"number",className:"mt-1 block w-full",autoComplete:"working_hours",value:l.total_hours,onChange:r=>n("total_hours",r.target.value)})]}),a("div",{className:"my-4",children:[e(s,{htmlFor:"overtime_hours",value:"Overtime hours"}),e(o,{id:"overtime_hours",type:"number",className:"mt-1 block w-full",autoComplete:"overtime_hours",value:l.overtime_hours,onChange:r=>n("overtime_hours",r.target.value)})]}),a("div",{className:"my-4",children:[e(s,{htmlFor:"leave_days",value:"Leave days"}),e(o,{id:"leave_days",type:"number",className:"mt-1 block w-full",autoComplete:"leave_days",value:l.leave_days,onChange:r=>n("leave_days",r.target.value)})]})]}),e("div",{className:"p-4 flex justify-between items-center",children:e(d,{className:"p-2 rounded text-white bg-green-500 hover:bg-green-600",disabled:_,children:"Update"})})]})}),a(v,{show:x,children:[e("div",{className:"p-4 border border-bottom flex justify-between items-center",children:a("h1",{className:"text-2xl",children:[m," this payroll?"]})}),e("div",{className:"p-4 border border-bottom",children:a("p",{children:["Are you sure you want to ",m," this payroll!"]})}),a("div",{className:"p-4 flex items-center gap-4",children:[e(d,{className:"p-2 rounded text-white bg-green-500 hover:bg-green-600",onClick:A,children:"Yes"}),e(d,{className:"p-2 rounded text-white bg-red-500 hover:bg-red-600",onClick:()=>u(!1),children:"No"})]})]})]})}export{V as default};
