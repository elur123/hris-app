import{r as s,_ as Q,j as t,a as e,n as U,d as V}from"./app-359c51dc.js";import{A as X}from"./AuthenticatedLayout-09e2fcfa.js";import{C as Z,a as $,b as ee}from"./CardBody-63b152f2.js";import{C as ae}from"./CardFooter-7607320b.js";import{T as o,I as d}from"./InputError-d1c51091.js";import{T as te}from"./TextAreaInput-a6ff58e3.js";import{I as l}from"./InputLabel-f50d2a8a.js";import{S as _}from"./Select-bbc9d194.js";import{T as g,a as v,b}from"./TableBody-d29426e1.js";import{P as y}from"./PrimaryButton-eded6ccb.js";import"./ApplicationLogo-e3ab5e5c.js";import"./transition-d926d5fa.js";import"./platform-8453adbf.js";function _e(f){const w=s.useRef(),N=s.useRef(),k=s.useRef(),C=s.useRef(),F=s.useRef(),R=s.useRef(),S=s.useRef(),E=s.useRef(),A=s.useRef(),D=s.useRef(),T=s.useRef();let[B,I]=s.useState([{id:0,label:"Select branch first"}]);const u={fullname:s.useRef(),relationship:s.useRef()},h={school_name:s.useRef(),education_level:"Elementary",year_graduated:s.useRef()},i={company_name:s.useRef(),position:s.useRef(),start_at:s.useRef(),end_at:s.useRef()},{data:n,setData:r,errors:m,post:P,reset:x,processing:j,recentlySuccessful:le}=Q({profile_picture:"",first_name:"",middle_name:"",last_name:"",suffix:"",birth_date:"",place_of_birth:"",email:"",contact_no:"",emai:"",address:"",rate:"",rate_type:"",branch:"",department:"",position:"",family_members:[],school_attainments:[],experiences:[]}),M=()=>{if(u.fullname.current.value==""||u.relationship.current.value==""){alert("Check, field required");return}const a={fullname:u.fullname.current.value,relationship:u.relationship.current.value};r("family_members",[...n.family_members,a]),u.fullname.current.value="",u.relationship.current.value=""},L=a=>{r(c=>{const p=[...c.family_members];return p.splice(a,1),{...c,family_members:p}})},q=n.family_members.length?n.family_members.map((a,c)=>t("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[e("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.fullname}),e("td",{className:"px-6 py-4",children:a.relationship}),e("td",{className:"px-6 py-4",children:e(y,{type:"button",onClick:()=>L(c),children:"Remove"})})]},c)):e("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:e("th",{scope:"row",colSpan:3,className:"px-6 py-4 font-medium text-center text-gray-900 whitespace-nowrap dark:text-white",children:"No family member"})}),H=()=>{if(h.school_name.current.value==""||h.education_level==""||h.year_graduated.current.value==""){alert("Check, field required");return}const a={school_name:h.school_name.current.value,education_level:h.education_level,year_graduated:h.year_graduated.current.value};r("school_attainments",[...n.school_attainments,a]),h.school_name.current.value="",h.year_graduated.current.value=""},Y=a=>{r(c=>{const p=[...c.school_attainments];return p.splice(a,1),{...c,school_attainments:p}})},W=n.school_attainments.length?n.school_attainments.map((a,c)=>t("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[e("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.school_name}),e("td",{className:"px-6 py-4",children:a.education_level}),e("td",{className:"px-6 py-4",children:a.year_graduated}),e("td",{className:"px-6 py-4",children:e(y,{type:"button",onClick:()=>Y(c),children:"Remove"})})]},c)):e("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:e("th",{scope:"row",colSpan:4,className:"px-6 py-4 font-medium text-center text-gray-900 whitespace-nowrap dark:text-white",children:"No school attainment"})}),z=()=>{if(i.company_name.current.value==""||i.position.current.value==""||i.start_at.current.value==""||i.end_at.current.value==""){alert("Check, field required"),console.log(i);return}const a={company_name:i.company_name.current.value,position:i.position.current.value,start_at:i.start_at.current.value,end_at:i.end_at.current.value};r("experiences",[...n.experiences,a]),i.company_name.current.value="",i.position.current.value="",i.start_at.current.value="",i.end_at.current.value=""},G=a=>{r(c=>{const p=[...c.experiences];return p.splice(a,1),{...c,experiences:p}})},J=n.experiences.length?n.experiences.map((a,c)=>t("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[e("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.company_name}),e("td",{className:"px-6 py-4",children:a.position}),t("td",{className:"px-6 py-4",children:[a.start_at," - ",a.end_at]}),e("td",{className:"px-6 py-4",children:e(y,{type:"button",onClick:()=>G(c),children:"Remove"})})]},c)):e("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:e("th",{scope:"row",colSpan:4,className:"px-6 py-4 font-medium text-center text-gray-900 whitespace-nowrap dark:text-white",children:"No experience"})}),K=a=>{r("branch",a.id);const c=f.branches.find(p=>p.id===a.id);I(c.departments)},O=a=>{a.preventDefault(),P(route("employees.store"),{preserveScroll:!0,onSuccess:()=>x(),onError:()=>{m.first_name&&(x("first_name"),N.current.focus())}})};return t(X,{auth:f.auth,errors:f.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Employee - Create"}),children:[e(U,{title:"Employee - Create"}),e(Z,{children:t("form",{onSubmit:O,children:[t($,{className:"p-4 flex items-center gap-4",children:[e(V,{href:route("employees.index"),children:e("svg",{className:"text-gray-900 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e("h3",{className:"text-gray-900",children:"Create new employee"})]}),t(ee,{children:[t("div",{id:"personal-information",className:"mb-4",children:[e("h5",{className:"mb-4 font-bold text-gray-900",children:"Personal Information"}),e("div",{className:"grid grid-cols-2 mb-4",children:t("div",{children:[e(l,{htmlFor:"profile_picture",value:"Profile picture"}),e(o,{id:"profile_picture",ref:w,onChange:a=>r("profile_picture",a.target.files[0]),type:"file",className:"mt-1 block w-full",autoComplete:"profile_picture"})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e(l,{htmlFor:"name",value:"First name"}),e(o,{id:"first_name",ref:N,value:n.first_name,onChange:a=>r("first_name",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"first_name"}),e(d,{message:m.first_name,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"name",value:"Middle name"}),e(o,{id:"middle_name",ref:k,value:n.middle_name,onChange:a=>r("middle_name",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"middle_name"}),e(d,{message:m.middle_name,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"name",value:"Last name"}),e(o,{id:"last_name",ref:C,value:n.last_name,onChange:a=>r("last_name",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"last_name"}),e(d,{message:m.last_name,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"name",value:"Suffix"}),e(o,{id:"suffix",ref:F,value:n.suffix,onChange:a=>r("suffix",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"suffix"}),e(d,{message:m.suffix,className:"mt-2"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e(l,{htmlFor:"name",value:"Date of Birth"}),e(o,{id:"birth_date",ref:R,value:n.birth_date,onChange:a=>r("birth_date",a.target.value),type:"date",className:"mt-1 block w-full",autoComplete:"birth_date"}),e(d,{message:m.birth_date,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"name",value:"Place of Birth"}),e(o,{id:"place_of_birth",ref:S,value:n.place_of_birth,onChange:a=>r("place_of_birth",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"place_of_birth"}),e(d,{message:m.place_of_birth,className:"mt-2"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e(l,{htmlFor:"name",value:"Email"}),e(o,{id:"email",ref:A,value:n.email,onChange:a=>r("email",a.target.value),type:"email",className:"mt-1 block w-full",autoComplete:"email"}),e(d,{message:m.email,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"name",value:"Contact #"}),e(o,{id:"contact_no",ref:E,value:n.contact_no,onChange:a=>r("contact_no",a.target.value),type:"text",className:"mt-1 block w-full",autoComplete:"contact_no"}),e(d,{message:m.contact_no,className:"mt-2"})]})]}),t("div",{className:"grid grid-cols-1 mb-4",children:[e(l,{htmlFor:"address",value:"Current address"}),e(te,{id:"address",ref:D,value:n.address,onChange:a=>r("address",a.target.value),className:"mt-1 block w-full",autoComplete:"address"}),e(d,{message:m.address,className:"mt-2"})]})]}),e("hr",{className:"drop-shadow-md"}),t("div",{id:"employement-information",className:"mb-4",children:[e("h5",{className:"my-4 font-bold text-gray-900",children:"Employement Information"}),e("div",{className:"grid grid-cols-2 gap-4 my-4",children:t("div",{children:[e(l,{htmlFor:"position",value:"Position"}),e(_,{id:"position",val:void 0,className:"mt-1 block w-full",data:f.positions,onSelect:a=>r("position",a.id)}),e(d,{message:m.position,className:"mt-2"})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:[t("div",{children:[e(l,{htmlFor:"rate",value:"Rate"}),e(o,{id:"rate",ref:T,value:n.rate,onChange:a=>r("rate",a.target.value),type:"number",className:"mt-1 block w-full",autoComplete:"rate"}),e(d,{message:m.rate,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"rate_type",value:"Rate type"}),e(_,{id:"rate_type",className:"mt-1 block w-full",data:f.rate_types,onSelect:a=>r("rate_type",a.id)}),e(d,{message:m.rate_type,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"branch",value:"Branch"}),e(_,{id:"branch",className:"mt-1 block w-full",data:f.branches,onSelect:a=>K(a)}),e(d,{message:m.branch,className:"mt-2"})]}),t("div",{children:[e(l,{htmlFor:"department",value:"Department"}),e(_,{id:"department",className:"mt-1 block w-full",data:B,onSelect:a=>r("department",a.id)}),e(d,{message:m.department,className:"mt-2"})]})]})]}),e("hr",{className:"drop-shadow-md"}),t("div",{id:"family-member",className:"mb-4",children:[e("h5",{className:"my-4 font-bold text-gray-900",children:"Family Member"}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 my-4",children:[t("div",{children:[e(l,{htmlFor:"fullname",value:"Fullname"}),e(o,{id:"fullname",ref:u.fullname,type:"text",className:"mt-1 block w-full",autoComplete:"fullname"})]}),t("div",{children:[e(l,{htmlFor:"address",value:"Relationship"}),e(o,{id:"relationship",ref:u.relationship,type:"text",className:"mt-1 block w-full",autoComplete:"relationship"})]}),t("div",{children:[e(l,{htmlFor:"address",value:"Action"}),e(y,{type:"button",onClick:M,className:"w-full py-2 px-3 justify-center mt-1",children:"Add"})]})]}),t(g,{className:"mb-2",children:[e(v,{children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"Fullname"}),e("th",{scope:"col",className:"px-6 py-3",children:"Relationship"}),e("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e(b,{children:q})]})]}),e("hr",{className:"drop-shadow-md"}),t("div",{id:"educational-atainment",className:"mb-4",children:[e("h5",{className:"my-4 font-bold text-gray-900",children:"Educational Attainment"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:[t("div",{children:[e(l,{htmlFor:"school_name",value:"School name"}),e(o,{id:"school_name",ref:h.school_name,type:"text",className:"mt-1 block w-full",autoComplete:"school_name"})]}),t("div",{children:[e(l,{htmlFor:"type",value:"School type"}),e(_,{id:"school_type",className:"mt-1 block w-full",data:f.school_types,val:void 0,onSelect:a=>h.education_level=a.label})]}),t("div",{children:[e(l,{htmlFor:"year_graduated",value:"Year graduated"}),e(o,{id:"year_graduated",ref:h.year_graduated,type:"text",className:"mt-1 block w-full",autoComplete:"year_graduated"})]}),t("div",{children:[e(l,{htmlFor:"address",value:"Action"}),e(y,{type:"button",onClick:H,className:"w-full py-2 px-3 justify-center mt-1",children:"Add"})]})]}),t(g,{className:"mb-2",children:[e(v,{children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"School name"}),e("th",{scope:"col",className:"px-6 py-3",children:"Type"}),e("th",{scope:"col",className:"px-6 py-3",children:"Year"}),e("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e(b,{children:W})]})]}),e("hr",{className:"drop-shadow-md"}),t("div",{id:"experiences",children:[e("h5",{className:"my-4 font-bold text-gray-900",children:"Experiences"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:[t("div",{children:[e(l,{htmlFor:"company_name",value:"Company name"}),e(o,{id:"company_name",ref:i.company_name,type:"text",className:"mt-1 block w-full",autoComplete:"company_name"})]}),t("div",{children:[e(l,{htmlFor:"position",value:"Position"}),e(o,{id:"position",ref:i.position,type:"text",className:"mt-1 block w-full",autoComplete:"position"})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 my-4",children:[t("div",{children:[e(l,{htmlFor:"start_at",value:"Start at"}),e(o,{id:"start_at",ref:i.start_at,type:"date",className:"mt-1 block w-full",autoComplete:"start_at"})]}),t("div",{children:[e(l,{htmlFor:"end_at",value:"End at"}),e(o,{id:"end_at",ref:i.end_at,type:"date",className:"mt-1 block w-full",autoComplete:"end_at"})]}),t("div",{children:[e(l,{htmlFor:"address",value:"Action"}),e(y,{type:"button",onClick:z,className:"w-full py-2 px-3 justify-center mt-1",children:"Add"})]})]}),t(g,{className:"mb-2",children:[e(v,{children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"Company name"}),e("th",{scope:"col",className:"px-6 py-3",children:"Position"}),e("th",{scope:"col",className:"px-6 py-3",children:"Duration"}),e("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e(b,{children:J})]})]})]}),e(ae,{children:e(y,{disabled:j,children:"Create"})})]})})]})}export{_e as default};
